/*
 * buttons.c
 *
 *  Created on: 02-Jan-2021
 *      Author: adityasehgal
 */

#include "buttons.h"

uint8_t readBtnUp(void){
	return !HAL_GPIO_ReadPin(nSW_UP_GPIO_Port, nSW_UP_Pin);
}

uint8_t readBtnDw(void){
	return !HAL_GPIO_ReadPin(nSW_DW_GPIO_Port, nSW_DW_Pin)
}

uint8_t readBtnVi(void);

uint8_t readBtnOe(void);


uint8_t whichBtn(void) {
	uint8_t ret = 0b0000;

	while (readBtnUp())
		ret |= UP_BTN;
	while (readBtnDw())
		ret |= DW_BTN;
	while (!HAL_GPIO_ReadPin(nSW_VI_GPIO_Port, nSW_VI_Pin))
		ret |= VI_BTN;
	if (!HAL_GPIO_ReadPin(nSW_OE_GPIO_Port, nSW_OE_Pin))
		ret |= OEN_BTN;

	return ret;
}
